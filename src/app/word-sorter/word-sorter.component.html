<!-- Display the question card if there are words and the current question index is valid -->
<div class="header-container">
  <!-- Exit Game Button -->
  <button mat-icon-button class="exit-button" (click)="openExitDialog()">
     <mat-icon>exit_to_app</mat-icon>
  </button>
  <!-- Score and Grade Status Bar -->
  <div class="status-bar">
    <mat-icon>monetization_on</mat-icon>
    <span>{{ score }}</span>
  </div>
</div>

<div class="game-container">
  <mat-card *ngIf="words.length > 0 && currentQuestionIndex < words.length">
    <h1>Mixed Letters - {{ categoryName }}</h1>
    <mat-card-content>
      <!-- Question text with current word and category -->
      <p>
        Does the word "{{ words[currentQuestionIndex]!.text }}" belong to the
        category "{{ categoryName }}"?
      </p>
      <!-- Buttons for user to provide answer -->
      <button mat-button (click)="checkAnswer(true)">Yes</button>
      <button mat-button (click)="checkAnswer(false)">No</button>
    </mat-card-content>
  </mat-card>

  <!-- Progress bar showing the current progress -->
  <div class="progress-container">
    <div class="progress-info">
      <div class="icon-box">
        <mat-icon>crop_din</mat-icon>
        <span class="icon-number">{{ currentQuestionIndex + 1 }}</span>
      </div>
    </div>
    <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
    <div class="progress-info">
      <div class="icon-box">
        <mat-icon>crop_din</mat-icon>
        <span class="icon-number">{{ totalQuestions }}</span>
      </div>
    </div>
  </div>
</div>

<!-- Buttons for game actions -->
<div class="action-buttons">
  <!-- Reset Game Button -->
  <button
    mat-raised-button
    (click)="resetGame()"
    *ngIf="currentQuestionIndex < words.length && grade > 0">
    Reset Game
  </button>
  <!-- End Game Button -->
  <button
    mat-raised-button
    (click)="endGame()"
    *ngIf="currentQuestionIndex >= words.length || grade <= 0">
    End Game
  </button>
</div>
